@page "/AddNewStudent"
@using BlazorAssignment.Repository
@inject IStudent  student
@inject NavigationManager _navigate

<h3>AddStudent</h3>
<EditForm Model="@studentDetails" OnValidSubmit="@AddData">

    <div class="form-horizontal">
        <hr />
        <div class="form-group">
            <label>Name:</label>
            <div class="col-md-10">
                <InputText type="text" @bind-Value="studentDetails.StudentName" />
            </div>
        </div>
        <div class="form-group">
            <label>Course</label>
            <div class="col-md-10">
                <InputText type="text" @bind-Value="studentDetails.Course" />

            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <div class="col-md-10">
                <InputText type="text" @bind-Value="studentDetails.Email" />
            </div>
        </div>

        <div class="form-group">
            <label>Address</label>
            <div class="col-md-10">
                <InputText type="text" @bind-Value="studentDetails.Address" />
            </div>
        </div>

        <div class="form-group">
            <label>Gender</label>
            <div class="col-md-10">
                <InputText type="text" @bind-Value="studentDetails.Gender" />
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-primary"  />
                
            </div>
        </div>
    </div>

</EditForm>


@code {

        TblStudentDetails studentDetails;

    protected override void OnInitialized()
    {

        studentDetails= new TblStudentDetails();
        base.OnInitialized();
    }

    void AddData()
    {
        var result = student.AddStudent(studentDetails);
        if (result)
        {
            StateHasChanged();
            _navigate.NavigateTo("allstudents");

        }
    }

}
